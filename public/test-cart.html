<!DOCTYPE html>
<html>

<head>
    <title>Test Paid Cart</title>
</head>

<body>
    <h1>Test Paid Cart Items Display</h1>
    <p>Click button để set cart data và sau đó navigate tới payment page</p>

    <button onclick="setPaidCart()">Set Paid Cart Data</button>
    <button onclick="setUnpaidCart()">Set Unpaid Cart Data</button>
    <button onclick="openPaymentPage()">Open Payment Page</button>

    <div id="output"></div>

    <script>
        function setPaidCart() {
            const paidCartData = {
                cart: [
                    {
                        service: {
                            id: 'basic-wash',
                            name: 'Basic Wash',
                            price: 20.00
                        },
                        quantity: 1,
                        subtotal: 20.00
                    },
                    {
                        service: {
                            id: 'premium-detail',
                            name: 'Premium Detail & Wax',
                            price: 55.00
                        },
                        quantity: 1,
                        subtotal: 55.00
                    },
                    {
                        service: {
                            id: 'interior-clean',
                            name: 'Interior Deep Clean',
                            price: 30.00
                        },
                        quantity: 1,
                        subtotal: 30.00
                    }
                ],
                carInfo: {
                    licensePlate: 'ABC123',
                    status: 'finished',
                    total: 105.00,
                    bookingId: 'test_123',
                    notes: 'Payment Status: paid | Method: Cash'
                },
                customerInfo: {
                    name: 'Nguyễn Văn Test',
                    phone: '0901234567',
                    isVip: true
                },
                viewOnly: true // Đã thanh toán - chỉ xem
            };

            localStorage.setItem('pos-cart', JSON.stringify(paidCartData));
            document.getElementById('output').innerHTML = '<p style="color:green;">✅ Đã set PAID cart data. Total: $105.00</p>';
        }

        function setUnpaidCart() {
            const unpaidCartData = {
                cart: [
                    {
                        service: {
                            id: 'basic-wash',
                            name: 'Basic Wash',
                            price: 15.00
                        },
                        quantity: 1,
                        subtotal: 15.00
                    },
                    {
                        service: {
                            id: 'wax-service',
                            name: 'Premium Wax',
                            price: 25.00
                        },
                        quantity: 1,
                        subtotal: 25.00
                    }
                ],
                carInfo: {
                    licensePlate: 'XYZ789',
                    status: 'pending',
                    total: 40.00
                },
                customerInfo: {
                    name: 'Trần Thị Test',
                    phone: '0907654321',
                    isVip: false
                },
                viewOnly: false // Chưa thanh toán
            };

            localStorage.setItem('pos-cart', JSON.stringify(unpaidCartData));
            document.getElementById('output').innerHTML = '<p style="color:orange;">⏳ Đã set UNPAID cart data. Total: $40.00</p>';
        }

        function openPaymentPage() {
            window.open('/payment', '_blank');
        }
    </script>
</body>

</html>